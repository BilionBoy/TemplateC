<!-- Cabeçalho do formulário -->
<div class="page-body page-header mb-4 shadow">
  <div class="d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center">
      <%= link_to produtos_path, class: "btn btn-outline-secondary btn-sm me-3" do %>
        <i class="fas fa-arrow-left"></i>
      <% end %>
      <h1 class="h4 mb-0"> <%=t("common.back", default: "Cadastro") %></h1>
    </div>
  </div>
</div>
<%= simple_form_for(@produto, html: { class: "container-fluid page-inner" }) do |f| %>
  <div class="card">
    <div class="card-body">
      <!-- Campos do formulário -->
      <div class="form-inputs">
        <div class="row mb-3">
          <div class="col-12 col-md-6">
            <%= f.input :nome, input_html: { class: "form-control", style: "width: 100%;", placeholder: "Nome", title: "Informe nome" } %>
            <%= f.input :descricao, input_html: { class: "form-control", style: "width: 100%;", placeholder: "Descricao", title: "Informe descricao" } %>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-12 col-md-6">
            <%= f.input :preco, input_html: { class: "form-control", style: "width: 100%;", placeholder: "Preco", title: "Informe preco" } %>
            <%= f.input :quantidade_estoque, input_html: { class: "form-control", style: "width: 100%;", placeholder: "Quantidade estoque", title: "Informe quantidade estoque" } %>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-12 col-md-6">
            <%= f.association :categoria, collection: Categoria.all, value_method: :id, label_method: :nome, input_html: { class: "form-control", style: "width: 100%;", placeholder: "Categoria", title: "Informe categoria" } %>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-12 col-md-6">
            <div class="field">
              <%= f.label :image, "Imagem do Produto", class: "form-label" %>
              <%= f.file_field :image, class: "form-control", id: "produto_image", accept: "image/*", onchange: "previewImage(event)" %>
              <small class="form-text text-muted">Escolha uma imagem de até 5MB (JPG, PNG, GIF).</small>
              <!-- Pré-visualização da imagem -->
              <div class="mt-2" id="image-preview" style="display:none;">
                <img src="" alt="Pré-visualização da imagem" id="preview-img" class="img-fluid" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer justify-content-between">
      <!-- Botões do formulário -->
      <%= f.submit t(".save", default: "Salvar"), class: "btn btn-incluir" %>
      <%= link_to t("common.back", default: "Voltar"), produtos_path, class: "btn btn-secondary" %>
    </div>
  </div>
<% end %>
